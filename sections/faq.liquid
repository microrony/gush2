<link rel="stylesheet" href="{{ 'section-faq-page.css' | asset_url }}" media="print" onload="this.media='all'">


{%- style -%}
.section-{{ section.id }}-padding {
padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
}

@media screen and (min-width: 750px) {
.section-{{ section.id }}-padding {
padding-top: {{ section.settings.padding_top }}px;
padding-bottom: {{ section.settings.padding_bottom }}px;
}

.footer {
margin-top: 0 !important;
}
}

{%- endstyle -%}

<div class="faq-bg">
	<div class="faq page-width section-{{ section.id }}-padding">
		<div class="rte faq__main">
			<div class="faq__heading">
				<h1 style="margin-top:{{ section.settings.top-margin }}px;">{{ section.settings.heading }}</h1>
			</div>
			<div class="faq__main-content">
				<div class="faq__categories">
					{% for block in section.blocks %}
					<div class="faq-category"
						data-category-id="faq-category-{{  block.settings.category | downcase | replace: ' ', '-' }}">
						{{ block.settings.category }}
					</div>
					{% endfor %}
				</div>
				<div class="faq__contents">
					<div class="faq__types">
						{% for block in section.blocks %}
						<div
							class="faq__main-content__heading faq-type faq-category-{{ block.settings.category | downcase | replace: ' ', '-' }}">
							<div class="faq__main-content__content">{{ block.settings.type }}</div>
						</div>
						{% endfor %}
					</div>
					<div class="faq__qas">
						{% for block in section.blocks %}
						<div class="faq-qa">
							<div class="faq__main-content__content">{{ block.settings.question }}</div>
							<div class="faq__main-content__content">{{ block.settings.answer }}</div>
						</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% javascript %}
const faqCategories = document.querySelectorAll('.faq-category');
const faqTypes = document.querySelectorAll('.faq-type');
const faqQas = document.querySelectorAll('.faq-qa');


textArr = [];
faqCategories.forEach(function(d, i) {
if(textArr.indexOf(d.innerText) > -1) {
d.remove();
}
else {
textArr.push(d.innerText);
}
});

//console.log(tabContents)

faqCategories.forEach(tab => {

tab.addEventListener('click', function(){

console.log(`.${this.dataset.categoryId}`);

categoryId = `.${this.dataset.categoryId}`;
contents = document.querySelectorAll(categoryId);

faqTypes.forEach(function(type){
type.classList.remove('active');
});

contents.forEach(function(content){
content.classList.add('active');
});

faqCategories.forEach(function(tab){
tab.classList.remove('active');
});

tab.classList.add('active');
//content.classList.add('active');
});
});

{% endjavascript %}

{% schema %}
{
"name": "FAQ",
"tag": "section",
"settings": [
{
"type": "text",
"id": "heading",
"label": "Section Main Heading"
},
{
"type": "range",
"id": "top-margin",
"min": 0,
"max": 100,
"step": 1,
"unit": "px",
"label": "Section Heading Margin Top",
"default": 50
},
{
"type": "range",
"id": "padding_top",
"min": 0,
"max": 100,
"step": 4,
"unit": "px",
"label": "t:sections.all.padding.padding_top",
"default": 36
},
{
"type": "range",
"id": "padding_bottom",
"min": 0,
"max": 100,
"step": 4,
"unit": "px",
"label": "t:sections.all.padding.padding_bottom",
"default": 36
}
],
"blocks":[
{
"name": "FAQ Content",
"type": "faqContent",
"settings": [
{
"type": "text",
"id": "category",
"label": "Category"
},
{
"type": "text",
"id": "type",
"label": "Type"
},
{
"id": "question",
"type": "textarea",
"label": "Question: ",
"default":"question"
},
{
"type": "html",
"id": "answer",
"label": "Answer",
"default":"answer"
}
]
}
],
"presets": [
{
"name": "faq"
}
]
}
{% endschema %}